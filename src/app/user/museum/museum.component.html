<mat-sidenav-container>

  <!-- Sidenav -->
  <mat-sidenav #sidenav>
    <div id="sidenav-flex">

      <!-- wAVdio Logo -->
      <header>
        <img *ngIf="museum && getMuseumContent(locale).logo; else defaultLogo"
             [src]="'/uploads/' + museum._id + '/' + getMuseumContent(locale).logo.filename"
             [alt]="getMuseumContent(locale).logo.alternativeText"/>
        <ng-template #defaultLogo>
          <img src="assets/images/wAVdio_Logo_gross.png" alt="wAVdio Logo"/>
        </ng-template>
      </header>

      <mat-divider></mat-divider>

      <!-- Site Plan and Info Pages -->
      <main>
        <mat-nav-list>
          <a mat-list-item routerLink="/siteplan" i18n>Site Plan</a>

          <a mat-list-item *ngFor="let infopage of infopages"
             routerLink="/infopage/{{ infopage._id }}"
             routerLinkActive="active">

            {{ infopage.name }}
          </a>
        </mat-nav-list>
      </main>

      <mat-divider></mat-divider>

      <!-- Usage Terms, Privacy Policy and Imprint -->
      <footer>
        <mat-nav-list>
          <a mat-list-item routerLink="/user/usage-terms" i18n>Terms of Use</a>
          <a mat-list-item routerLink="/user/privacy-policy" i18n>Privacy Policy</a>
          <a mat-list-item routerLink="/user/imprint" i18n>Imprint</a>
        </mat-nav-list>
      </footer>

    </div>
  </mat-sidenav>

  <!-- Main Page -->
  <mat-sidenav-content id="page">

    <app-app-bar [sidenav]="sidenav"></app-app-bar>

    <!-- Page Content -->
    <main style="position: relative">

      <!-- Museum Logo -->
      <div style="position: relative; padding-top: 61.8%">
        <img *ngIf="museum && getMuseumContent(locale).image"
             style="position: absolute; height: 100%; left: 0; top: 0; object-fit: cover"
             class="w-100"
             [src]="'/uploads/' + museum._id + '/' + getMuseumContent(locale).image.filename"
             [alt]="getMuseumContent(locale).image.alternativeText"
             routerLink="/museum/fullscreen"/>

      </div>

      <!-- Museum Title -->
      <h1 *ngIf="museum" class="mt-2 px-2">{{ getMuseumContent(locale).name }}</h1>

      <!-- Tabs -->
      <mat-tab-group mat-stretch-tabs>

        <!-- Info -->
        <mat-tab label="Info" i18n-label>
          <p *ngIf="museum" class="p-2">
            <markdown>{{ getMuseumContent(locale).info }}</markdown>
          </p>
        </mat-tab>

        <!-- Exhibits -->
        <mat-tab *ngIf="exhibits && exhibits.length > 0" label="Exhibits" i18n-label>
          <section *ngIf="museum" class="mt-4" role="main">
            <div class="container">
              <div class="grid-container pb-5">
                <div *ngFor="let exhibit of exhibits" class="mx-auto">
                  <app-exhibit-card [exhibit]="exhibit" [selectedLanguage]="locale" [width]="'125px'"
                                    [height]="'150px'"
                                    [link]="'/exhibit/' + exhibit._id"></app-exhibit-card>
                </div>
              </div>
            </div>
          </section>
        </mat-tab>

        <!-- Expositions -->
        <mat-tab *ngIf="expositions && expositions.length > 0" label="Expositions" i18n-label>
          <section *ngIf="museum" class="mt-4" role="main">
            <div class="container">
              <div class="grid-container pb-5">
                <div *ngFor="let exposition of expositions" class="mx-auto">
                  <app-exposition-card [exposition]="exposition" [selectedLanguage]="locale" [width]="'125px'"
                                       [height]="'150px'"
                                       [link]="'/exposition/' + exposition._id"></app-exposition-card>
                </div>
              </div>
            </div>
          </section>
        </mat-tab>

      </mat-tab-group>
    </main>

    <footer>
      <section role="contentinfo" style="height: 48px; background-color: #f5f5f5"></section>
    </footer>

  </mat-sidenav-content>
</mat-sidenav-container>

<app-cookie-banner></app-cookie-banner>
